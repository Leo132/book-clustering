(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof module!="undefined"&&module.exports?module.exports=n:n(jQuery,window,document)})(function(n,t,i){n.fn.bindevent=function(t,i,r){var u=n(this),f=function(t,i){var u=i.handleObj.origType,f=i.handleObj.selector,o=i.handleObj.handler,e=n(i.delegateTarget),r;if(e.off(u,f),r=t.call(i.currentTarget,i),!r||!r.always||typeof r.always!="function")if(!r||!r.then||typeof r.then!="function")e.on(u,f,o);else r.catch(function(){}).then(function(){e.on(u,f,o)});else r.always(function(){e.on(u,f,o)})};typeof i=="function"&&(r=i,i=undefined);u.off(t,i);u.on(t,i,function(n){f(r,n)});return u};this.NewID=function(n){n=n||10;for(var i=function(){return Math.random().toString(36).substring(2)},t="";n>t.length;)t+=i();return t.substring(0,n)};this.CheckMobile=function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)};this.windowFitCalc=function(r,u){var f=n.extend(!0,{},{calc:{padding:!1,border:!1,margin:!1}},u),s=function(){},o=function(n,t,i,r){return n<r&&i<t},e=function(t){return{top:n(t).offset().top||0,bottom:n(t).offset().top+n(t).height()||0,left:n(t).offset().left||0,right:n(t).offset().left+n(t).width()||0}},h=function(){var r={height:0,width:0},u=100,f=100,e=n("<div>").css({visibility:"hidden",width:f,height:u,overflow:"scroll"}).appendTo("body"),o=n("<div>").css({height:"100%",width:"100%"}).appendTo(e);return r={height:u-o.outerHeight(),width:f-o.outerWidth()},e.remove(),{height:n(i).width()>n(t).width()?r.height:0,width:n(i).height()>n(t).height()?r.width:0}};return s.prototype={width:function(){var s=n(t).width()+h().width,i,u,c;if(r.length>0)for(i=r,u=e(r);i.length>0&&i.not("body").length;){var l=i.parent(),a=l.children().not(i).not("script, link"),v=!1;f.calc.padding&&(s-=n(i).innerWidth()-n(i).width());f.calc.border&&(s-=n(i).outerWidth()-n(i).innerWidth());f.calc.margin&&(s-=n(i).outerWidth(!0)-n(i).outerWidth());a.length>0&&a.each(function(t,i){if(n(i).css("position")==="absolute"||n(i).css("display")==="none")return!0;var r=e(i);o(u.top,u.bottom,r.top,r.bottom)&&!o(u.left,u.right,r.left,r.right)&&(s-=n(i).outerWidth(!0),v=!0)});v&&(c=e(l),u.left=c.left<u.left?c.left:u.left,u.right=c.right>u.right?c.right:u.right);i=l}return s},height:function(){var s=n(t).height()+h().height,i,u,c;if(r.length>0)for(i=r,u=e(r);i.length>0&&i.not("body").length;){var l=i.parent(),a=l.children().not(i).not("script, link"),v=!1;f.calc.padding&&(s-=n(i).innerHeight()-n(i).height());f.calc.border&&(s-=n(i).outerHeight()-n(i).innerHeight());f.calc.margin&&(s-=n(i).outerHeight(!0)-n(i).outerHeight());a.length>0&&a.each(function(t,i){if(n(i).css("position")==="absolute"||n(i).css("display")==="none")return!0;var r=e(i);o(u.left,u.right,r.left,r.right)&&!o(u.top,u.bottom,r.top,r.bottom)&&(s-=n(i).outerHeight(!0),v=!0)});v&&(c=e(l),u.top=c.top<u.top?c.top:u.top,u.bottom=c.bottom>u.bottom?c.bottom:u.bottom);i=l}return s}},new s(r)};this.is_window_resize=function(){var i=n(t).height(),r=n(t).width();return function(){var u=n(t).height(),f=n(t).width(),e={height:u!==i,width:f!==r};return i=u,r=f,e}}();this.DateFormat=function(n,t){if(n)try{var i=new RegExp(/^\/Date[(]\d+[)]\/$/,"gi");return i.test(n)&&(n=n.match(/\d+/)[0]*1),new Date(n).toFormatString(t)}catch(r){console.log("string to date convert failed. String: "+n)}return(new Date).toFormatString(t)};this.ProcessEmoji=function(n){var r=n,t=new RegExp("/::\\)|/::~|/::B|/::\\||/:8-\\)|/::[<]{1}|/::[$]{1}|/::X|/::Z|/::'\\(|/::-\\||/::@|/::P|/::D|/::O|/::\\(|/::\\+|/:--b|/::Q|/::T|/:,@P|/:,@-D|/::d|/:,@o|/::g|/:\\|-\\)|/::!|/::L|/::>|/::,@|/:,@f|/::-S|/:\\?|/:,@x|/:,@@|/::8|/:,@!|/:!!!|/:xx|/:bye|/:wipe|/:dig|/:handclap|/:&-\\(|/:B-\\)|/:<@|/:@>|/::-O|/:>-\\||/:P-\\(|/::'\\||/:X-\\)|/::\\*|/:@x|/:8\\*|/:pd|/:<W>|/:beer|/:basketb|/:oo|/:coffee|/:eat|/:pig|/:rose|/:fade|/:showlove|/:heart|/:break|/:cake|/:li|/:bome|/:kn|/:footb|/:ladybug|/:shit|/:moon|/:sun|/:gift|/:hug|/:strong|/:weak|/:share|/:v|/:@\\)|/:jj|/:@@|/:bad|/:lvu|/:no|/:ok|/:love|/:<L>|/:jump|/:shake|/:<O>|/:circle|/:kotow|/:turn|/:skip|/:oY|/:#-0|/:hiphot|/:kiss|/:thank|/:haha|/:refuel|/:chumi|/:good|/:sorry|/:please|/:loveu|/:what|/:think|/:confuse|/:wait|/:<&|/:&>|/:&-\\(|/:<&","g"),i;return/\[([\u4e00-\u9fa5]+|[\w\s]+)\]/.test(n)?n=n.replace(/\[([\u4e00-\u9fa5]+|[\w\s]+)\]/g,function(n){var i=new RegExp("^\\[([一-龥]+|[A-Za-z\\s]+)\\]$"),t=n.replace(i,"$1");return QQFaceMapCode[t]?'<img src="../../images/QQFace/'+QQFaceMapCode[t]+'.png" border="0" />':n}):t.test(n)&&(i='<img src="../../images/QQFace/',n=n.replace(t,function(n){return gQQFaceCode[n]?i+gQQFaceCode[n]+'.png"/>':n})),EC_emojify(EC_emojify_STU(n))};this.setCookie=function(n,t,r){var u="";r&&(u="expires="+r.toUTCString());i.cookie=n+"="+t+";"+u+";path=/"};this.getCookie=function(n){var t=i.cookie.match(new RegExp("(^| )"+n+"=([^;]*)(;|$)"));return t!=null?unescape(t[2]):null};this.delCookie=function(n){var t=new Date,r;t.setTime(t.getTime()-1);r=getCookie(n);r!=null&&(i.cookie=n+"="+r+";expires="+t.toGMTString())};n.fn.scrollTopTo=function(n,t){var i=this,r;i.length&&(r=0,typeof n=="number"?r=n:n.length&&(r=n.offset().top-i.offset().top+i.scrollTop()),i.stop(),i.animate({scrollTop:r},t))};this.ajaxBuffer=function(t){var r=n.Deferred(),f=[],v=t.targeturl,h=t.bufferurl,c=t.limit,l=t.dataobj,o=t.timeout,i={id:NewID(),length:0,index:0,fragment:""},s=JSON.stringify(l),a=c*.8-JSON.stringify(i).length,u=0,e;for(o&&setTimeout(function(){r.reject("timeout")},o);u<s.length;)e=u+a,f.push(s.substring(u,e)),u=e;return i.length=f.length,f.forEach(function(t,u){i.fragment=t;i.index=u;n.ajax({url:h,type:"POST",data:i}).done(function(n){switch(n.status){case"finish":r.resolve(i.id);break;case"fail":r.reject(n.error)}}).fail(function(n){r.reject(n)})}),r.promise()};String.prototype.Format=function(n){var r=this.toString(),i=new RegExp("{(\\d+(;\\d+)*)}","g"),t=arguments;return typeof n=="object"&&(t=n,i=new RegExp("{(\\w+(;\\w+)*)}","g")),r.replace(i,function(n,i){return t[i]!=null?t[i]:n})};Date.prototype.toFormatString=function(n){var t=this,i=new RegExp("([a-zA-Z]).*?(\\1\\1\\1|\\1\\1|\\1|)","g");return n.replace(i,function(n,i){var r="";switch(i){case"y":r=t.getFullYear();break;case"M":r=t.getMonth()+1;break;case"d":r=t.getDate();break;case"H":r=t.getHours();break;case"m":r=t.getMinutes();break;case"s":r=t.getSeconds();break;case"f":r=t.getMilliseconds()}return r=r.toString(),r.length>n.length?r.substring(0,n.length):r.padStart(n.length,"0")})};String.prototype.padStart||(String.prototype.padStart=function(n,t){return n=n>>0,t=String(t||" "),this.length>n?String(this):(n=n-this.length,n>t.length&&(t+=t.repeat(n/t.length)),t.slice(0,n)+String(this))});String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return t=t||0,this.indexOf(n,t)===t});typeof Object.assign!="function"&&(Object.assign=function(n){"use strict";var u,i,t,r;if(typeof n=="undefined"||n===null)throw new TypeError("Cannot convert undefined or null to object");for(u=Object(n),i=1;i<arguments.length;i++)if(t=arguments[i],typeof t!="undefined"&&t!==null)for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(u[r]=t[r]);return u})})