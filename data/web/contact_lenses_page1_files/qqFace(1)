(function(n){n.fn.qqEmoFace=function(t){var i=n.extend({id:"facebox",path:"face/",assign:"content",tip:"em_",msgbox:"#msgbox"},t),u=n("#"+i.assign),r=i.id,e=i.path,o=i.tip,f=i.msgbox;if(u.length<=0)return alert("缺少表情赋值对象。"),!1;n(this).click(function(t){var e,h,c,o,u,s,l;if(n("#"+r).length<=0){e='<div id="'+r+'" style="position:absolute;display:none;z-index:999999;" class="qqFace"><table border="0" cellspacing="0" cellpadding="0"><tr>';o=0;for(u in qQQEmoji)qQQEmoji[u]!=c&&(c=qQQEmoji[u],h="["+u+"]",e+='<td><span title="'+u.replace("<","").replace(">","")+'" class="emoji emoji'+qQQEmoji[u]+'" onclick="$(\'#'+i.assign+"').setCaret();$('#"+i.assign+"').insertAtCaret('"+h+"');\"><\/span><\/td>",(o+1)%15==0&&(e+="<\/tr><tr>"),o++);e+="<\/tr><\/table><\/div>"}n(f).parent().append(e);s=n(this).position();l=s.top;n("#"+r).css("bottom",l);n("#"+r).css("left",s.left-200);n("#"+r).show();t.stopPropagation()});n(document).click(function(){n("#"+r).hide();n("#"+r).remove()})};n.fn.qqFace=function(t){var i=n.extend({id:"facebox",path:"face/",assign:"content",tip:"em_",msgbox:"#msgbox"},t),u=n("#"+i.assign),r=i.id,e=i.path,o=i.tip,f=i.msgbox;if(u.length<=0)return alert("缺少表情赋值对象。"),!1;n(this).click(function(t){var u,s,o,e,h,c;if(n("#"+r).length<=0){u='<div id="'+r+'" style="position:absolute;display:none;z-index:999999;" class="qqFace"><table border="0" cellspacing="0" cellpadding="0"><tr>';o=0;for(e in QQFaceMapCode)s="["+e+"]",u+='<td><span title="'+e+'" class="qqemoji qqemoji'+QQFaceMapCode[e]+'" onclick="$(\'#'+i.assign+"').setCaret();$('#"+i.assign+"').insertAtCaret('"+s+"');\"><\/span><\/td>",(o+1)%15==0&&(u+="<\/tr><tr>"),o++;u+="<\/tr><\/table><\/div>"}h=t.pageX;c=t.pageY;n(f).append(u);n("#"+r).show().css("left",1).css("bottom",135);t.stopPropagation()});n(document).click(function(){n("#"+r).hide();n("#"+r).remove()})};n.fn.qqFaceRWD=function(t){var i=n.extend({id:"facebox",path:"face/",assign:"content",tip:"em_",msgbox:"#msgbox"},t),u=n("#"+i.assign),r=i.id,e=i.path,o=i.tip,f=i.msgbox;if(u.length<=0)return alert("缺少表情赋值对象。"),!1;n(this).click(function(t){var e,s,o;if(!u.prop("disabled")){if(n("#"+r).length<=0){e='<div id="'+r+'" class="qqFace facebox" style="display:none;"><ul>';for(o in QQFaceMapCode)QQFaceMapCode[o]!=111&&(s="["+o+"]",e+="<li>",e+='<span title="'+o+'" class="qqemoji qqemoji'+QQFaceMapCode[o]+'" onclick="$(\'#'+i.assign+"').setCaret();$('#"+i.assign+"').insertAtCaret('"+s+"');\"><\/span><\/td>",e+="<\/li>");e+="<\/ul>"}n(f).append(e);n("#"+r).show();t.stopPropagation()}});n(document).click(function(){n("#"+r).hide();n("#"+r).remove()})};n.fn.MultiqqFace=function(t){var u=this,r=n.extend({id:"facebox",path:"face/",assign:"content",tip:"em_",msgbox:"#msgbox"},t),e=n("#"+r.assign),i=r.id,o=r.path,s=r.tip,f=r.msgbox;n(document).on("click",function(t){n(t.target).closest(u.selector).length||n("#"+i).remove()}).on("click",u.selector,function(t){var r,u,e;if(!n(t.target).closest("#"+i).length){if(n("#"+i).remove(),n("#"+i).length<=0){r='<div id="'+i+'" class="qqFace facebox"><ul>';for(u in QQFaceMapCode)QQFaceMapCode[u]!=111&&(r+="<li>",r+='<span title="'+u+'" class="qqemoji qqemoji'+QQFaceMapCode[u]+'"><\/span><\/td>',r+="<\/li>");r+="<\/ul>"}e=n(r);n(f==="this"?this:f).append(e);n("ul",e).css("overflow-y","");typeof mCustomScrollbar!="undefined"&&n("ul",e).mCustomScrollbar({theme:"dark-4"})}}).off("click","#"+i+" span.qqemoji").on("click","#"+i+" span.qqemoji",function(){var t="["+n(this).attr("title")+"]";typeof qqFaceCustomProcess=="function"&&qqFaceCustomProcess(this,t)})}})(jQuery);jQuery.extend({unselectContents:function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}});jQuery.fn.extend({selectContents:function(){$(this).each(function(n){var u=this,i,t,r,f;(r=u.ownerDocument)&&(f=r.defaultView)&&typeof f.getSelection!="undefined"&&typeof r.createRange!="undefined"&&(i=window.getSelection())&&typeof i.removeAllRanges!="undefined"?(t=r.createRange(),t.selectNode(u),n==0&&i.removeAllRanges(),i.addRange(t)):document.body&&typeof document.body.createTextRange!="undefined"&&(t=document.body.createTextRange())&&(t.moveToElementText(u),t.select())})},setCaret:function(){if(!/msie/.test(navigator.userAgent.toLowerCase())){var n=function(){var n=$(this).get(0);n.caretPos=document.getSelection()};$(this).click(n).select(n).keyup(n)}},insertAtCaret:function(n){var t=$(this).get(0),i,u;if(document.all&&t.createTextRange&&t.caretPos)i=t.caretPos,i.text=i.text.charAt(i.text.length-1)==""?n+"":n;else if(t.setSelectionRange){var r=t.selectionStart,f=t.selectionEnd,e=t.value.substring(0,r),o=t.value.substring(f);t.value=e+n+o;t.focus();u=n.length;t.setSelectionRange(r+u,r+u);t.blur()}else t.value+=n;$(this).keyup();$(this).focus()}});var QQFaceCodeMap={"104":"/:&>","103":"/:<&","102":"/:kiss","101":"/:hiphot","100":"/:#-0","99":"/:oY","98":"/:skip","97":"/:turn","96":"/:kotow","95":"/:circle","94":"/:<O>","93":"/:shake","92":"/:jump","91":"/:<L>","90":"/:love","89":"/:ok","88":"/:no","87":"/:lvu","86":"/:bad","85":"/:@@","84":"/:jj","83":"/:@)","82":"/:v","81":"/:share","80":"/:weak","79":"/:strong","78":"/:hug","77":"/:gift","76":"/:sun","75":"/:moon","74":"/:shit","73":"/:ladybug","72":"/:footb","71":"/:kn","70":"/:bome","69":"/:li","68":"/:cake","67":"/:break","66":"/:heart","65":"/:showlove","64":"/:fade","63":"/:rose","62":"/:pig","61":"/:eat","60":"/:coffee","59":"/:oo","58":"/:basketb","57":"/:beer","56":"/:<W>","55":"/:pd","54":"/:8*","53":"/:@x","52":"/::*","51":"/:X-)","50":"/::'|","49":"/:P-(","48":"/:>-|","47":"/::-O","46":"/:@>","45":"/:<@","44":"/:B-)","43":"/:&-(","42":"/:handclap","41":"/:dig","40":"/:wipe","39":"/:bye","38":"/:xx","37":"/:!!!","36":"/:,@!","35":"/::8","34":"/:,@@","33":"/:,@x","32":"/:?","31":"/::-S","30":"/:,@f","29":"/::,@","28":"/::>","27":"/::L","26":"/::!","25":"/:|-)","24":"/::g","23":"/:,@o","22":"/::d","21":"/:,@-D","20":"/:,@P","19":"/::T","18":"/::Q","17":"/:--b","16":"/::+","15":"/::(","14":"/::O","13":"/::D","12":"/::P","11":"/::@","10":"/::-|","9":"/::'(","8":"/::Z","7":"/::X","6":"/::$","5":"/::<","4":"/:8-)","3":"/::|","2":"/::B","1":"/::~","0":"/::)"},QQFaceMapCode={"微笑":"0","撇嘴":"1","色":"2","發呆":"3","得意":"4","流淚":"5","害羞":"6","閉嘴":"7","睡":"8","大哭":"9","尷尬":"10","發怒":"11","調皮":"12","呲牙":"13","驚訝":"14","難過":"15","酷":"16","冷汗":"17","抓狂":"18","吐":"19","偷笑":"20","可愛":"21","愉快":"21","白眼":"22","傲慢":"23","饑餓":"24","困":"25","驚恐":"26","流汗":"27","憨笑":"28","大兵":"29","奮鬥":"30","咒駡":"31","疑問":"32","噓":"33","暈":"34","瘋了":"35","衰":"36","骷髏":"37","敲打":"38","再見":"39","擦汗":"40","摳鼻":"41","鼓掌":"42","糗大了":"43","壞笑":"44","左哼哼":"45","右哼哼":"46","哈欠":"47","鄙視":"48","委屈":"49","快哭了":"50","陰險":"51","親親":"52","嚇":"53","可憐":"54","菜刀":"55","西瓜":"56","啤酒":"57","籃球":"58","乒乓":"59","咖啡":"60","飯":"61","豬頭":"62","玫瑰":"63","凋謝":"64","嘴唇":"65","愛心":"66","心碎":"67","蛋糕":"68","閃電":"69","炸彈":"70","刀":"71","足球":"72","瓢蟲":"73","便便":"74","月亮":"75","太陽":"76","禮物":"77","擁抱":"78","強":"79","弱":"80","握手":"81","勝利":"82","抱拳":"83","勾引":"84","拳頭":"85","差勁":"86","愛你":"87",NO:"88",OK:"89"},gQQFaceCode={"/:&>":"104","/:<&":"103","/:kiss":"102","/:hiphot":"101","/:#-0":"100","/:oY":"99","/:skip":"98","/:turn":"97","/:kotow":"96","/:circle":"95","/:<O>":"94","/:shake":"93","/:jump":"92","/:<L>":"91","/:love":"90","/:ok":"89","/:no":"88","/:lvu":"87","/:bad":"86","/:@@":"85","/:jj":"84","/:@)":"83","/:v":"82","/:share":"81","/:weak":"80","/:strong":"79","/:hug":"78","/:gift":"77","/:sun":"76","/:moon":"75","/:shit":"74","/:ladybug":"73","/:footb":"72","/:kn":"71","/:bome":"70","/:li":"69","/:cake":"68","/:break":"67","/:heart":"66","/:showlove":"65","/:fade":"64","/:rose":"63","/:pig":"62","/:eat":"61","/:coffee":"60","/:oo":"59","/:basketb":"58","/:beer":"57","/:<W>":"56","/:pd":"55","/:8*":"54","/:@x":"53","/::*":"52","/:X-)":"51","/::'|":"50","/:P-(":"49","/:>-|":"48","/::-O":"47","/:@>":"46","/:<@":"45","/:B-)":"44","/:&-(":"43","/:handclap":"42","/:dig":"41","/:wipe":"40","/:bye":"39","/:xx":"38","/:!!!":"37","/:,@!":"36","/::8":"35","/:,@@":"34","/:,@x":"33","/:?":"32","/::-S":"31","/:,@f":"30","/::,@":"29","/::>":"28","/::L":"27","/::!":"26","/:|-)":"25","/::g":"24","/:,@o":"23","/::d":"22","/:,@-D":"21","/:,@P":"20","/::T":"19","/::Q":"18","/:--b":"17","/::+":"16","/::(":"15","/::O":"14","/::D":"13","/::P":"12","/::@":"11","/::-|":"10","/::'(":"9","/::Z":"8","/::X":"7","/::$":"6","/::<":"5","/:8-)":"4","/::|":"3","/::B":"2","/::~":"1","/::)":"0"},aQQFace={"微笑":"0","撇嘴":"1","色":"2","發呆":"3","得意":"4","流淚":"5","害羞":"6","閉嘴":"7","睡":"8","大哭":"9","尷尬":"10","發怒":"11","調皮":"12","呲牙":"13","驚訝":"14","難過":"15","酷":"16","冷汗":"17","抓狂":"18","吐":"19","偷笑":"20","愉快":"21","白眼":"22","傲慢":"23","饑餓":"24","累":"25","驚恐":"26","流汗":"27","憨笑":"28","悠閑":"29","奮鬥":"30","咒罵":"31","疑問":"32","噓":"33","暈":"34","瘋了":"35","衰":"36","骷髏頭":"37","敲打":"38","再見":"39","擦汗":"40","摳鼻":"41","鼓掌":"42","羞辱":"43","壞笑":"44","左哼哼":"45","右哼哼":"46","哈欠":"47","鄙視":"48","委屈":"49","快哭了":"50","陰險":"51","親親":"52","嚇":"53","可憐":"54","菜刀":"55","西瓜":"56","啤酒":"57","籃球":"58","乒乓":"59","咖啡":"60","飯":"61","豬頭":"62","玫瑰":"63","枯萎":"64","嘴唇":"65","愛心":"66","心碎":"67","蛋糕":"68","閃電":"69","炸彈":"70","刀":"71","足球":"72","甲蟲":"73","便便":"74","月亮":"75","太陽":"76","禮物":"77","擁抱":"78","強":"79","弱":"80","握手":"81","勝利":"82","抱拳":"83","勾引":"84","拳頭":"85","差勁":"86","愛你":"87","愛你":"88",OK:"89"},qQQEmoji={"<笑臉>":"1f604","<開心>":"1f60a","<大笑>":"1f603","<熱情>":"263a","<眨眼>":"1f609","<色>":"1f60d","<接吻>":"1f618","<親吻>":"1f61a","<臉紅>":"1f633","<露齒笑>":"1f63c","<滿意>":"1f60c","<戲弄>":"1f61c","<吐舌>":"1f445","<無語>":"1f612","<得意>":"1f60f","<汗>":"1f613","<失望>":"1f640","<低落>":"1f61e","<呸>":"1f616","<焦慮>":"1f625","<擔心>":"1f630","<震驚>":"1f628","<悔恨>":"1f62b","<眼淚>":"1f622","<哭>":"1f62d","<破涕為笑>":"1f602","<晕>":"1f632","<恐懼>":"1f631","<心煩>":"1f620","<生氣>":"1f63e","<睡覺>":"1f62a","<生病>":"1f637","<惡魔>":"1f47f","<外星人>":"1f47d","<心>":"2764","<心碎>":"1f494","<丘比特>":"1f498","<閃爍>":"2728","<星星>":"1f31f","<嘆號>":"2755","<問號>":"2754","<睡著>":"1f4a4","<水滴>":"1f4a6","<音樂>":"1f3b5","<火>":"1f525","<便便>":"1f4a9","<強>":"1f44d","<弱>":"1f44e","<拳頭>":"1f44a","<勝利>":"270c","<上>":"1f446","<下>":"1f447","<右>":"1f449","<左>":"1f448","<第一>":"261d","<強壯>":"1f4aa","<吻>":"1f48f","<熱戀>":"1f491","<男孩>":"1f466","<女孩>":"1f467","<女士>":"1f469","<男士>":"1f468","<天使>":"1f47c","<骷髏>":"1f480","<紅唇>":"1f48b","<太陽>":"2600","<下雨>":"2614","<多雲>":"2601","<雪人>":"26c4","<月亮>":"1f319","<閃電>":"26a1","<海浪>":"1f30a","<貓>":"1f431","<小狗>":"1f429","<老鼠>":"1f42d","<倉鼠>":"1f439","<兔子>":"1f430","<狗>":"1f43a","<青蛙>":"1f438","<老虎>":"1f42f","<考拉>":"1f428","<熊>":"1f43b","<豬>":"1f437","<牛>":"1f42e","<野豬>":"1f417","<猴子>":"1f435","<馬>":"1f434","<蛇>":"1f40d","<鴿子>":"1f426","<雞>":"1f414","<企鵝>":"1f427","<毛蟲>":"1f41b","<八爪魚>":"1f419","<魚>":"1f420","<鯨魚>":"1f433","<海豚>":"1f42c","<玫瑰>":"1f339","<花>":"1f33a","<棕櫚樹>":"1f334","<仙人掌>":"1f335","<禮盒>":"1f49d","<南瓜燈>":"1f383","<鬼魂>":"1f47b","<聖誕老人>":"1f385","<聖誕樹>":"1f384","<禮物>":"1f381","<鈴鐺>":"1f514","<慶祝>":"1f389","<氣球>":"1f388","<CD>":"1f4bf","<相機>":"1f4f7","<錄影機>":"1f3a5","<電腦>":"1f4bb","<電視>":"1f4fa","<電話>":"1f4de","<解鎖>":"1f513","<鎖>":"1f512","<鑰匙>":"1f511","<成交>":"1f528","<燈泡>":"1f4a1","<郵箱>":"1f4eb","<浴缸>":"1f6c0","<錢>":"1f4b2","<炸彈>":"1f4a3","<手槍>":"1f52b","<藥丸>":"1f48a","<橄欖球>":"1f3c8","<籃球>":"1f3c0","<足球>":"26bd","<棒球>":"26be","<高爾夫>":"26f3","<獎盃>":"1f3c6","<入侵者>":"1f47e","<唱歌>":"1f3a4","<吉他>":"1f3b8","<比基尼>":"1f459","<皇冠>":"1f451","<雨傘>":"1f302","<手提包>":"1f45c","<口红>":"1f484","<戒指>":"1f48d","<鑽石>":"1f48e","<咖啡>":"2615","<啤酒>":"1f37a","<乾杯>":"1f37b","<雞尾酒>":"1f377","<漢堡>":"1f354","<薯條>":"1f35f","<意粉>":"1f35d","<壽司>":"1f363","<麵條>":"1f35c","<煎蛋>":"1f373","<雪糕>":"1f366","<蛋糕>":"1f382","<蘋果>":"1f34f","<飛機>":"2708","<火箭>":"1f680","<單車>":"1f6b2","<高鐵>":"1f684","<警告>":"26a0","<旗>":"1f3c1","<男>":"1f6b9","<女>":"1f6ba","<O>":"2b55","<X>":"274e","<版權>":"a9","<注冊商標>":"ae","<商標>":"2122"},gEmojiCodeMap={"1f604":"","1f60a":"","1f603":"","263a":"","1f609":"","1f60d":"","1f618":"","1f61a":"","1f633":"","1f63c":"","1f60c":"","1f61c":"","1f445":"","1f612":"","1f60f":"","1f613":"","1f640":"","1f61e":"","1f616":"","1f625":"","1f630":"","1f628":"","1f62b":"","1f622":"","1f62d":"","1f602":"","1f632":"","1f631":"","1f620":"","1f63e":"","1f62a":"","1f637":"","1f47f":"","1f47d":"","2764":"","1f494":"","1f498":"","2728":"","1f31f":"","2755":"","2754":"","1f4a4":"","1f4a6":"","1f3b5":"","1f525":"","1f4a9":"","1f44d":"","1f44e":"","1f44a":"","270c":"","1f446":"","1f447":"","1f449":"","1f448":"","261d":"","1f4aa":"","1f48f":"","1f491":"","1f466":"","1f467":"","1f469":"","1f468":"","1f47c":"","1f480":"","1f48b":"","2600":"","2614":"","2601":"","26c4":"","1f319":"","26a1":"","1f30a":"","1f431":"","1f429":"","1f42d":"","1f439":"","1f430":"","1f43a":"","1f438":"","1f42f":"","1f428":"","1f43b":"","1f437":"","1f42e":"","1f417":"","1f435":"","1f434":"","1f40d":"","1f426":"","1f414":"","1f427":"","1f41b":"","1f419":"","1f420":"","1f433":"","1f42c":"","1f339":"","1f33a":"","1f334":"","1f335":"","1f49d":"","1f383":"","1f47b":"","1f385":"","1f384":"","1f381":"","1f514":"","1f389":"","1f388":"","1f4bf":"","1f4f7":"","1f3a5":"","1f4bb":"","1f4fa":"","1f4de":"","1f513":"","1f512":"","1f511":"","1f528":"","1f4a1":"","1f4eb":"","1f6c0":"","1f4b2":"","1f4a3":"","1f52b":"","1f48a":"","1f3c8":"","1f3c0":"","26bd":"","26be":"","26f3":"","1f3c6":"","1f47e":"","1f3a4":"","1f3b8":"","1f459":"","1f451":"","1f302":"","1f45c":"","1f484":"","1f48d":"","1f48e":"","2615":"","1f37a":"","1f37b":"","1f377":"","1f354":"","1f35f":"","1f35d":"","1f363":"","1f35c":"","1f373":"","1f366":"","1f382":"","1f34f":"","2708":"","1f680":"","1f6b2":"","1f684":"","26a0":"","1f3c1":"","1f6b9":"","1f6ba":"","2b55":"","274e":"",a9:"",ae:"","2122":""},gEmojiMapCode={"":"1f604","":"1f60a","":"1f603","":"263a","":"1f609","":"1f60d","":"1f618","":"1f61a","":"1f633","":"1f63c","":"1f60c","":"1f61c","":"1f445","":"1f612","":"1f60f","":"1f613","":"1f640","":"1f61e","":"1f616","":"1f625","":"1f630","":"1f628","":"1f62b","":"1f622","":"1f62d","":"1f602","":"1f632","":"1f631","":"1f620","":"1f63e","":"1f62a","":"1f637","":"1f47f","":"1f47d","":"2764","":"1f494","":"1f498","":"2728","":"1f31f","":"2755","":"2754","":"1f4a4","":"1f4a6","":"1f3b5","":"1f525","":"1f4a9","":"1f44d","":"1f44e","":"1f44a","":"270c","":"1f446","":"1f447","":"1f449","":"1f448","":"261d","":"1f4aa","":"1f48f","":"1f491","":"1f466","":"1f467","":"1f469","":"1f468","":"1f47c","":"1f480","":"1f48b","":"2600","":"2614","":"2601","":"26c4","":"1f319","":"26a1","":"1f30a","":"1f431","":"1f429","":"1f42d","":"1f439","":"1f430","":"1f43a","":"1f438","":"1f42f","":"1f428","":"1f43b","":"1f437","":"1f42e","":"1f417","":"1f435","":"1f434","":"1f40d","":"1f426","":"1f414","":"1f427","":"1f41b","":"1f419","":"1f420","":"1f433","":"1f42c","":"1f339","":"1f33a","":"1f334","":"1f335","":"1f49d","":"1f383","":"1f47b","":"1f385","":"1f384","":"1f381","":"1f514","":"1f389","":"1f388","":"1f4bf","":"1f4f7","":"1f3a5","":"1f4bb","":"1f4fa","":"1f4de","":"1f513","":"1f512","":"1f511","":"1f528","":"1f4a1","":"1f4eb","":"1f6c0","":"1f4b2","":"1f4a3","":"1f52b","":"1f48a","":"1f3c8","":"1f3c0","":"26bd","":"26be","":"26f3","":"1f3c6","":"1f47e","":"1f3a4","":"1f3b8","":"1f459","":"1f451","":"1f302","":"1f45c","":"1f484","":"1f48d","":"1f48e","":"2615","":"1f37a","":"1f37b","":"1f377","":"1f354","":"1f35f","":"1f35d","":"1f363","":"1f35c","":"1f373","":"1f366","":"1f382","":"1f34f","":"2708","":"1f680","":"1f6b2","":"1f684","":"26a0","":"1f3c1","":"1f6b9","":"1f6ba","":"2b55","":"274e","":"a9","":"ae","":"2122"}