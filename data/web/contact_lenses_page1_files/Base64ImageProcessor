(function(n){UploadErrorMessage=function(n,t){let i="",u=t.text["FileType_"+n.fileType],r=n.error||{};switch(r.type){case"FileSize":i=t.text.FileSizeError.Format(u,r.limit);break;case"FileFormat":i=t.text.FileFormatError.Format(u,r.allowTypes.join(t.text.Separator));break;case"FileType":i=t.text.FileTypeError.Format(u);break;case"VideoDuration":i=t.text.VideoDurationError.Format(r.limitSeconds/60)}return i};UploadFileValidate=function(n,t){let u=!1,i="",r=null;if(t.some(function(t){if(n.type.match(t.MimeTypes.join("|"))){i=t.FileType;let f=t.FrontEndLimit/1024;return t.FrontEndLimit>0&&f>n.size/1048576?u=!0:r={type:"FileSize",limit:f},!0}}),!u&&r===null){i=n.type.match("image/*")?"Image":n.type.match("video/*")?"Video":n.type.match("audio/*")?"Audio":"Document";let u=t.filter(function(n){return n.FileType===i})[0];r=u?{type:"FileFormat",allowTypes:(u||{}).FileExtensions||[]}:{type:"FileType"}}return{valid:u,fileType:i,error:r}};LoadFile=function(n){return new Promise(function(t,i){let r=new FileReader;r.onload=function(){t(this.result)};n?r.readAsDataURL(n):i()})};Base64ImageProcessor=function(t,i){var r=document.createElement("img"),e=t.type,s=new FileReader,h={getBase64:function(){return r.src},scaleSize:function(n,t){var i=u();return i=n=="auto"||t=="auto"?n!="auto"?u(r.width*n/r.width,r.height*n/r.width):t!="auto"?u(r.width*t/r.height,r.height*t/r.height):u(r.width,r.height):u(n,t),o.call(r,i)},scaleSizeAuto:function(n,t){var e=r.width>=r.height?r.width:r.height,s=r.width>=r.height?r.height:r.width,f=u(),i;return n!=null||t!=null?(i=n!=null?n/e:t/s,f=u(r.width*i,r.height*i),o.call(r,f)):r.src},scaleSizeProportion:function(n){var t=u(r.width*n/100,r.height*n/100);return o.call(r,t)},getImageInfo:function(){return a(r)}},c=function(){var o=function(n){for(var i=window.atob(n),r=i.length,u=new Uint8Array(r),t=0;t<r;t++)u[t]=i.charCodeAt(t);return u.buffer},s=this,h=new RegExp("^data:(.*?);base64,"),c=o(s.src.replace(h,"")),t=new DataView(c),f,n,u,i,e,r;if(t.getUint16(0,!1)!=65496)return-2;for(f=t.byteLength,n=2;n<f;)if(u=t.getUint16(n,!1),n+=2,u==65505){if(t.getUint32(n+=2,!1)!=1165519206)return-1;for(i=t.getUint16(n+=6,!1)==18761,n+=t.getUint32(n+4,i),e=t.getUint16(n,i),n+=2,r=0;r<e;r++)if(t.getUint16(n+r*12,i)==274)return t.getUint16(n+r*12+8,i)}else if((u&65280)!=65280)break;else n+=t.getUint16(n,!1);return-1},f=function(n,t){var i=this,r=document.createElement("canvas"),f=n?-1:1,o=t?-1:1,s=n?i.width*-1:0,h=t?i.height*-1:0,u;return r.width=i.width,r.height=i.height,u=r.getContext("2d"),u.scale(f,o),u.drawImage(i,s,h,i.width,i.height),r.toDataURL(e)},l=function(n){var t=this,i=document.createElement("canvas"),u=n/90%2>0,f=u?t.width:t.height,o=u?t.height:t.width,r;return i.width=o,i.height=f,r=i.getContext("2d"),r.translate(o/2,f/2),r.rotate(n*Math.PI/180),r.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),i.toDataURL(e)},o=function(n){var r=this,t=document.createElement("canvas"),i;return t.width=n.width,t.height=n.height,i=t.getContext("2d"),i.drawImage(r,0,0,n.width,n.height),t.toDataURL(e)},u=function(n,t){var i=function(n,t){this.width=n||0;this.height=t||0};return new i(n,t)},a=function(n){var t=function(n){this.Width=n.width;this.Height=n.height;this.Size=n.src.length*3/4096};return new t(n)};t&&s.readAsDataURL(t);s.onload=function(){r.src=this.result};n(r).on("load",function(){var n=this,t=c.call(n);switch(t){default:i(h);break;case 2:r.src=f.call(n,!0,!1);break;case 3:r.src=f.call(n,!0,!0);break;case 4:r.src=f.call(n,!1,!0);break;case 5:r.src=f.call(n,!1,!0);break;case 6:r.src=l.call(n,0);break;case 7:r.src=f.call(n,!0,!1);break;case 8:r.src=f.call(n,!0,!0)}})}})(jQuery)